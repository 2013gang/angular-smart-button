(function(){angular.module("ngSb",["sbTemplate"]).constant("sbDefaults",{bufferSize:10,defaultWait:400,waitingText:"Waiting...",mode:{debounce:"DE",wait:"WA",queue:"QU"}}).directive("sb",["$log","$q","$timeout","sbDefaults",function(e,t,n,o){return{restrict:"E",templateUrl:"sbTemplate.html",scope:{mode:"@",action:"&",text:"=",queue:"=?"},compile:function(u,i){var r;return r=null,{pre:function(u,i,l){return u.mode===o.mode.debounce?i.bind("click",function(t){return e.log("on click debounce mode"),clearTimeout(r),r=setTimeout(u.action(),o.defaultWait),t.preventDefault()}):u.mode===o.mode.wait?i.bind("click",function(r){var l;return e.log("on click wait mode"),l=u.action()(),i.children().prop("disabled",!0),u.text=o.waitingText,u.$apply(),t.when(l).then(function(){return i.children().prop("disabled",!1),u.text="Finished!",n(function(){return u.text="promise"},1e3)},function(){return e.error("Failed to resolve the promise")}),r.preventDefault()}):u.mode===o.mode.queue?(u.queue={},i.bind("click",function(n){var o,i;return e.log("on click queue mode"),i=u.action()(),o=(new Date).getTime(),u.queue[o]=i,u.$apply(),t.when(i).then(function(){return delete u.queue[o],e.log("Finished one promise @ "+o)},function(){return e.error("Failed to resolve the promise @ "+o)}),n.preventDefault()})):void 0},post:function(e,t,n){}}}}}])}).call(this),function(e){try{e=angular.module("sbTemplate")}catch(t){e=angular.module("sbTemplate",[])}e.run(["$templateCache",function(e){e.put("sbTemplate.html",'<button class="smart-button" ng-class="mode">{{text}}</button>')}])}();